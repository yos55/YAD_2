{"version":3,"sources":["event-object-functions.coffee"],"names":[],"mappings":"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","file":"event-object-functions.js","sourceRoot":"/source/","sourcesContent":["module.exports =\n  remove :\n    # Removes all objects von 'xxx.xxx' domain\n    # Goto domain and then call removeAllSub()\n    # * domain{String}: undefined (call on self) or domain\n    # * return\n    #   * {Boolean}: false there was no domain\n    #   * {Object}: get the sub Domain where its all deleted\n    ebRemove: (domain) ->\n      console.log \"ebRemove: #{domain}\" if eb?.debug\n      if domain instanceof Boolean\n        obj = @eo\n      else obj = @goToDomain domain\n      return false if obj==false\n      # console.info \"ebRemove: \",obj\n      obj.___.removeAllSub()\n      return obj\n    removeAllSub: ->\n      for key,obj of @eo\n        delete @eo[key] if obj.eb instanceof Function or obj instanceof Function\n\n  instance : {} =\n    createInstance: (iObj) ->\n      if iObj instanceof Array\n        for i in iObj\n          @createInstance i\n      else if iObj.domain?\n        {obj} = @createDomainIfNotExist(iObj.domain)\n        delete iObj.domain\n        return obj.___.createInstance iObj\n      else # now we are on right domain:\n        for wItem in iObj.watch\n          @eo[wItem] = @callToCreate wItem,iObj\n          # @eo[wItem] = (args...) -> #@==EventObject\n          #   @___.initInstance(iObj)\n          #   @[wItem].apply @,args\n    callToCreate: (fName,iObj) -> #@==EventObject\n      return (args...) ->\n        @___.initInstance(iObj)\n        return @[fName].apply @,args\n    initInstance: (iObj) ->\n      @removeAllSub()\n      instance = iObj.create()\n      @eo.thisArg = instance\n      for wItem in iObj.watch\n        @createFunction wItem,instance[wItem],{thisArg:instance}\n\n  addFunctions : {} =\n    setFunctionToDomain: (subDomain) -> #@==EventObjectHiddenFunctions\n      if not @eo[subDomain]?\n        @eo[subDomain] = (args...) -> #@==EventObject\n          ret = []\n          # console.log \"@functions[#{subDomain}]: \",@functions[subDomain]\n          for func in @___.functions[subDomain]\n            ret.push func.apply @,args\n          delete @___._ebIf if @___._ebIf?\n          return ret\n    createFunction: (subDomain,func,option) -> #@==EventObjectHiddenFunctions\n      console.info \"createFunction subDomain:#{subDomain} func:\",func if eb?.debug\n      @functions[subDomain] = [] if not @functions[subDomain]?\n\n      @functions[subDomain].push (args...) -> #@==EventObject\n        thisArg = @thisArg #use default thisarg\n        thisArg = option.thisArg if option?.thisArg? #or other\n        if not @___._ebIf?\n          func.apply thisArg,args\n        else\n          if @___.objIsEqual @___._ebIf,thisArg\n            func.apply thisArg,args\n      @setFunctionToDomain subDomain\n    objIsEqual: (fromObj,toObj) ->\n      return false if not fromObj? or not toObj?\n      for k,v of fromObj\n        if not (v == toObj[k])\n          return false\n      return true\n\n  option: {} =\n    setOption: (options) ->\n      # console.log \"options\"\n      # console.log @_functions if eb?.debug\n      for key,opt of options\n        if key=='thisArg' and opt instanceof Object\n          # console.log \"set this arg to \",@obj\n          @eo.thisArg = opt\n        else if key == 'onReady' and opt instanceof Boolean #TODO: del?\n          @onReady = opt\n        else if key == 'remove' and (typeof(opt) == 'string' || opt instanceof String)\n          @ebRemove opt\n        else if key == 'if' and opt instanceof Object\n          @ebIf opt\n        else if opt instanceof Function\n          # @ = new EventObject if not @[domain]?\n          @createFunction key,opt,options\n        else if key == 'instance' and (opt instanceof Object or opt instanceof Array)\n          @createInstance opt\n        else\n          console.log \"what do to with option[#{key}]=\",opt if eb?.debug\n"]}