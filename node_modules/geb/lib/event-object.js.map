{"version":3,"sources":["event-object.coffee"],"names":[],"mappings":"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","file":"event-object.js","sourceRoot":"/source/","sourcesContent":["{remove,instance,addFunctions,option} = require './event-object-functions'\n\nclass Mixin\n  @mixin: (array) ->\n    for obj in array\n      for key, value of obj\n        @::[key] = value\n      obj.included?.apply(@)\n      @\nclass EventObjectHiddenFunctions extends Mixin\n  @mixin [remove,instance,addFunctions,option]\n\n  # * @eo{EventObject}: current event object\n  constructor: (@eo) ->\n    @functions = {}\n\n  ebIf: (obj) ->\n    @_ebIf=obj\n    return @eo\n\n  goToDomain: (domain) ->\n    subRE = /([\\w$]+)\\.?/g\n    obj = @eo\n    while sub=subRE.exec(domain)\n      sub = sub[1]\n      return false if not obj[sub]?\n      obj = obj[sub]\n    return obj\n\n  #create domain\n  # * domain{String}: domain ex. test.test\n  # * withoutLast{Boolean}: true to without last domain, maby because it is a methode domain\n  createDomainIfNotExist: (domain, withoutLast=false) ->\n    console.log \"createDomainIfNotExist with domain:#{domain} and withoutLast=#{withoutLast}\" if eb?.debug\n    currentObj = @eo\n    subRE = /([\\w$]+)\\.?/g\n    if withoutLast\n      subRE = /([\\w$]+)\\./g\n      lastDomain = /\\.([\\w$]+)$/.exec(domain)[1]\n    while sub=subRE.exec(domain)\n      sub = sub[1]\n      currentObj[sub] = new EventObject() if not currentObj[sub]?\n      currentObj = currentObj[sub]\n    return {} =\n      obj: currentObj\n      lastDomain: lastDomain if withoutLast\n\nmodule.exports =\nclass EventObject\n  constructor: ->\n    # @___.obj=@\n    # @___ = new HiddenFunctions @\n    # @___functions = {}\n    @___ = new EventObjectHiddenFunctions(@)\n\n  eb: (arg1,arg2,arg3) ->\n    sortArgs = eb._defineArg arg1,arg2,arg3\n    console.log \"eb:\",sortArgs if eb?.debug\n    {func,domain,option} = sortArgs\n    domain = eb._replaceToCamelCase domain if domain?\n    if /^[\\w$]+$/.test(domain) and func? #if eb('asd',function() ...)\n      console.log \"eb#1\" if eb?.debug\n      @___.createFunction domain,func,option\n    else if domain? #if eb('asd.asd')\n      console.log \"eb#2\" if eb?.debug\n      wihtoutLast=false\n      wihtoutLast=true if func?\n      {obj,lastDomain} = @___.createDomainIfNotExist(domain,wihtoutLast)\n      return obj.eb(lastDomain,func,option)\n    else\n      console.log \"no route!\",sortArgs if eb?.debug\n\n    if option? #only if options are set\n      console.log \"eb#3\" if eb?.debug\n      @___.setOption option\n\n    return @\n\n# HiddenFunctions = require './hidden-functions'\n# class HiddenFunctions\n"]}